# devops-23-24-JPE-1141142

# Student - Tomás Ferreira nº1141142

# CA2 PART 2

1. Inside my local repository folder, i created a new folder with the name CA2 Part2.

2. Opened bash inside the folder.

3. With Bash inside the folder, i used the following commands to create a new branch:
- git branch tut-basic-gradle
- git checkout tut-basic-gradle

4. Started a new gradle spring boot project with the following dependencies: 
	- Rest Repositories; Thymeleaf; Spring Data JPA; H2 Database.

5. Placed new project in CA2/Part2 folder.

6. With Bash inside the new project folder, i used the following command to test the available grade tasks:
 - ./gradlew tasks

7. Deleted the src folder from the newly created project.

8. Copied the src folder from the basic folder to the newly created project folder.

9. Copied the files webpack.config.js and package.json aswell.

10. Tried to run the application with the following command: ./gradlew bootRun

11. Build failed at first, so i applied the professor's fix of changing Employee class use of javax instead of jakarta.
	With this change the application ran, but without the front end.
	
12. Added the gradle plugin or.siouan.frontend by placing the following line in the plugins block in build.gradle:
 -	id 'org.siouan.frontend-jdk17' version '8.0.0'

13. Added the following code in build.gradle to enable the frontend:
		frontend {
		 nodeVersion = "16.20.2"
		 assembleScript = "run build"
		 cleanScript = "run clean"
		 checkScript = "run check"
		 }


14. Updated the scripts section/object in package.json to configure the execution of
webpack with the following code:

 "webpack": "webpack",
 "build": "npm run webpack",
 "check": "echo Checking frontend",
 "clean": "echo Cleaning frontend",
 "lint": "echo Linting frontend",
 "test": "echo Testing frontend"

15. Executed ./gradlew build in order to update the application and generate the frontend code.

16. Build failed at first, so i applied the professor's fix of adding the following line to the .json file configuration:
"packageManager": "npm@9.6.7",

17. By adding the new line, the application was build sucessfully. 
	And i could confirm it by checking if the frontend was working, which it was.

18. Then i used the following commands in bash to commit my changes:
- git add .
- git commit -m  "Added tutorial application built with gradle"
- git push origin tut-basic-gradle

19. Created issue #8 Add a task to gradle to copy the generated jar to a folder named ”dist” located a
the project root folder level.

20. To the complete issue #8 i had the following task to build.gradle:

task copyGeneratedJar(type: Copy){
    from 'build/libs'
    into('dist')
}

21. Then i used the following commands in bash to commit my changes:
- git add .
- git commit -m  "Closes #8 Added task to copy generated Jar file"
- git push origin tut-basic-gradle


22. Created issue #9 Add a task to gradle to delete all the files generated by webpack (usually located at
src/resources/main/static/built/). This new task should be executed automatically by gradle before the task clean.

23. To the complete issue #9 i had the following task to build.gradle:

clean.doFirst {
    file('src/main/resources/static/built/bundle.js').delete()
    file('src/main/resources/static/built/bundle.js.map').delete()
}

24. Then i used the following commands in bash to commit my changes and merge the branch with main:
- git add .
- git commit -m  "Closes #9 Added task to delete files generated by webpack"
- git push origin tut-basic-gradle
- git checkout main
- git merge tut-basic-gradle
- git push origin main
- git tag ca2-part2
- git push origin ca2-part2

